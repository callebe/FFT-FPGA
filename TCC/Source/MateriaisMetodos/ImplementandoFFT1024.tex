Na bibliografia geralmente é mais comum encontrar implementações de algoritmos para cálculo da FFT utilizando implementações com 1024 pontos. Portanto, com o intuito de realizar uma comparação de desempenho, em um nível próximo dos artigos mais recentes da área, é desenvolvido uma nova arquitetura para a FFT de 1024 pontos. 

A arquitetura implementada para a FFT de 16 pontos possui um processamento paralelo em relação aos módulos de cálculo CORDIC. Desse modo, que todas as operações de rotação de vetores, para um determinado nível, são realizadas paralelamente. Para a implementação de uma FFT com 1024, ou mesmo 512 pontos, não seria possível utilizar a mesma arquitetura paralela em relação as unidades CORDIC, uma vez que o número de conexões, \textit{mux} e \textit{Flip-flops} presentes na FPGA não seriam suficientes para tal tarefa.

A solução adotada para montar a FFT de 1024 pontos foi realizar as operações CORDIC de cada nível da FFT de modo fracionário. Uma FFT de 1024 pontos possuí ao total 10 níveis de cálculo ($log_2 N$), e 512 operações CORDIC por nível. Se for utilizado 8 unidades CORDIC em paralelo, para calcular conjuntos de 8 operações por iteração, é possível realizar o cálculo de um nível reutilizando as unidades CORDIC 64 vezes.  Porém, para esta tarefa é necessário utilizar um bloco RAM para armazenar os 1024 pontos e permitir o acesso a 16 pontos a cada iteração. A Figura (\ref{fig:ArchitectureFFT1024p}) apresenta um diagrama da arquitetura implementada para a FFT de 1024 pontos.

\vspace{5mm}
\begin{figure}[H]
	\centering
	\captionsetup{width=\textwidth, font=footnotesize, textfont=bf}	
	\includegraphics[width=\linewidth]{Images/MateriaisMetodos/ArquiteturaFFT1024.pdf}
	\caption{Arquitetura FFT 1024 Pontos Implementada}
	\vspace{-3.5mm}
	\caption*{Fonte: Autoria Própria}
	\label{fig:ArchitectureFFT1024p}
\end{figure}    
\vspace{5mm}

A FFT de 16 pontos não possui nenhum bloco de memoria RAM (\textit{BRAM}), utilizando apenas registradores para operar as iterações, o que a torna menos exigente em termos de recursos da FPGA. Já uma FFT de 1024 requer não apenas uma bloco comum de RAM, mas uma memória de acesso múltiplo, já que se faz necessário ler e escrever em 16 pontos diferentes a cada iteração. Pois, caso contrário, seria necessário transferir cada ponto da FFT individualmente para cada unidade CORDIC em paralelo, reduzindo assim o desempenho da FFT. Para criar algo como um bloco de RAM com 16 canais, foram criados 16 blocos de memória RAM \textit{dual port}, cada um com 128 endereços de memória. A entrada e saída de dados destes blocos é ligado a uma rede de multiplexadores, os quais ordenam os dados a serem armazenados em blocos específicos. Como a cada nível da FFT o conjunto de dados a serem calculados devem ser divididos em 64 blocos, para que as 8 unidades CORDIC processem 1 bloco por vez, se faz necessário ordenara entrada de dados nos blocos de RAM de modo que os dados estejam na posição certa para o próximo nível.  

No diagrama da Figura (\ref{fig:ArchitectureFFT1024p}), a FFT de 1024 pontos, além de dispor de uma unidade \textit{RAM} de múltiplos acessos, ainda contem um bloco \textit{Adress Control}, o qual é responsável por endereçar os resultados das operações CORDIC para o espaço de memória adequado no bloco \textit{RAM}. A entrada de dados nesta arquitetura é feita por meio do bloco \textit{Input}. Este bloco separa os dados seriais de reais de 32 \textit{bits} oriundos de PS, em dois sinais reais de 16 \textit{bits}, e por meio de dois multiplexadores, insere esses dados nas duas primeiras portas de dados do bloco \textit{RAM}. Enquanto a interface AXI estiver repassando ao módulo da FFT os dados de entrada, e endereçando estes por meio da porta \textit{I/O Adress}, o bloco de \textit{Controle} vai preenchendo a memória \textit{RAM} com os dados de entrada. 

Após preencher todos os dados da \textit{RAM}, a interface AXI dispara a porta \text{start}, e a operação da FFT é iniciada. Ao final, o bloco de \textit{Controle} aciona a porta \textit{Finish Process}, provocando uma interrupção em PS, notificando sobre o fim da operação. Então, os dados são transferidos ao PS, de acordo com o endereço requisitado pela interface AXI na porta \textit{I/O Adress}, repassando os dados pela primeira porta de leitura do bloco \textit{RAM}.
  

